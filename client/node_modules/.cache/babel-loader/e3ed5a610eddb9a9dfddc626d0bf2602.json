{"ast":null,"code":"var _jsxFileName = \"/home/chamie/projects/amazon-clone-mern/client/src/screens/ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INITIAL_STATE = {\n  product: {},\n  loading: true,\n  error: ''\n};\n\nconst productReducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state,\n        loading: true\n      };\n\n    case 'FETCH_SUCCESS':\n      return { ...state,\n        products: action.payload,\n        loading: false\n      };\n\n    case 'FETCH_FAILURE':\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst ProductScreen = props => {\n  _s();\n\n  const [productState, dispatchProduct] = useReducer(productReducer, INITIAL_STATE);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatchProduct({\n        type: 'FETCH_REQUEST'\n      });\n\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        dispatchProduct({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n      } catch (err) {\n        dispatchProduct({\n          type: 'FETCH_FAILURE',\n          payload: err.message\n        });\n      }\n    };\n\n    fetchData();\n  }, []);\n  const params = useParams();\n  const {\n    slug\n  } = params;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: slug\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductScreen, \"zxHCl8QBPWgZTe1NCAnd9eKm0Rc=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"names":["axios","useEffect","useReducer","useParams","INITIAL_STATE","product","loading","error","productReducer","state","action","type","products","payload","ProductScreen","props","productState","dispatchProduct","fetchData","result","get","slug","data","err","message","params"],"sources":["/home/chamie/projects/amazon-clone-mern/client/src/screens/ProductScreen.js"],"sourcesContent":["import axios from 'axios';\nimport { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst INITIAL_STATE = {\n  product: {},\n  loading: true,\n  error: ''\n}\nconst productReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'FETCH_REQUEST':\n\t\t\treturn { ...state, loading: true };\n\t\tcase 'FETCH_SUCCESS':\n\t\t\treturn { ...state, products: action.payload, loading: false };\n\t\tcase 'FETCH_FAILURE':\n\t\t\treturn { ...state, loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nconst ProductScreen = (props) => {\n  const [productState, dispatchProduct] = useReducer(\n\t\tproductReducer,\n\t\tINITIAL_STATE\n  );\n  \n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\tdispatchProduct({ type: 'FETCH_REQUEST' });\n\t\t\ttry {\n\t\t\t\tconst result = await axios.get(`/api/products/slug/${slug}`);\n\t\t\t\tdispatchProduct({ type: 'FETCH_SUCCESS', payload: result.data });\n\t\t\t} catch (err) {\n\t\t\t\tdispatchProduct({ type: 'FETCH_FAILURE', payload: err.message });\n\t\t\t}\n\t\t};\n\t\tfetchData();\n  }, []);\n  \n  const params = useParams();\n  const { slug } = params;\n\n  return (\n    <div>\n      <h1>{slug}</h1>\n    </div>\n  );\n}\n\nexport default ProductScreen;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,MAAMC,aAAa,GAAG;EACpBC,OAAO,EAAE,EADW;EAEpBC,OAAO,EAAE,IAFW;EAGpBC,KAAK,EAAE;AAHa,CAAtB;;AAKA,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACzC,QAAQA,MAAM,CAACC,IAAf;IACC,KAAK,eAAL;MACC,OAAO,EAAE,GAAGF,KAAL;QAAYH,OAAO,EAAE;MAArB,CAAP;;IACD,KAAK,eAAL;MACC,OAAO,EAAE,GAAGG,KAAL;QAAYG,QAAQ,EAAEF,MAAM,CAACG,OAA7B;QAAsCP,OAAO,EAAE;MAA/C,CAAP;;IACD,KAAK,eAAL;MACC,OAAO,EAAE,GAAGG,KAAL;QAAYH,OAAO,EAAE,KAArB;QAA4BC,KAAK,EAAEG,MAAM,CAACG;MAA1C,CAAP;;IACD;MACC,OAAOJ,KAAP;EARF;AAUA,CAXD;;AAaA,MAAMK,aAAa,GAAIC,KAAD,IAAW;EAAA;;EAC/B,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCf,UAAU,CAClDM,cADkD,EAElDJ,aAFkD,CAAlD;EAKDH,SAAS,CAAC,MAAM;IACf,MAAMiB,SAAS,GAAG,YAAY;MAC7BD,eAAe,CAAC;QAAEN,IAAI,EAAE;MAAR,CAAD,CAAf;;MACA,IAAI;QACH,MAAMQ,MAAM,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAW,sBAAqBC,IAAK,EAArC,CAArB;QACAJ,eAAe,CAAC;UAAEN,IAAI,EAAE,eAAR;UAAyBE,OAAO,EAAEM,MAAM,CAACG;QAAzC,CAAD,CAAf;MACA,CAHD,CAGE,OAAOC,GAAP,EAAY;QACbN,eAAe,CAAC;UAAEN,IAAI,EAAE,eAAR;UAAyBE,OAAO,EAAEU,GAAG,CAACC;QAAtC,CAAD,CAAf;MACA;IACD,CARD;;IASAN,SAAS;EACR,CAXO,EAWL,EAXK,CAAT;EAaC,MAAMO,MAAM,GAAGtB,SAAS,EAAxB;EACA,MAAM;IAAEkB;EAAF,IAAWI,MAAjB;EAEA,oBACE;IAAA,uBACE;MAAA,UAAKJ;IAAL;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CA3BD;;GAAMP,a;UAmBWX,S;;;KAnBXW,a;AA6BN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}