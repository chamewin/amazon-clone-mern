{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nconst INITIAL_STATE = {\n  product: {},\n  loading: true,\n  error: ''\n};\n\nconst productReducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state,\n        loading: true\n      };\n\n    case 'FETCH_SUCCESS':\n      return { ...state,\n        product: action.payload,\n        loading: false\n      };\n\n    case 'FETCH_FAILURE':\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst ProductScreen = props => {\n  _s();\n\n  const params = useParams();\n  const {\n    slug\n  } = params;\n  const [productState, dispatchProduct] = useReducer(productReducer, INITIAL_STATE);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatchProduct({\n        type: 'FETCH_REQUEST'\n      });\n\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        dispatchProduct({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n      } catch (err) {\n        dispatchProduct({\n          type: 'FETCH_FAILURE',\n          payload: err.message\n        });\n      }\n    };\n\n    fetchData();\n  }, [slug]);\n  return {};\n};\n\n_s(ProductScreen, \"ptE5OpvGXUtaA3wyFFdyNLlhcho=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"names":["axios","useEffect","useReducer","useParams","INITIAL_STATE","product","loading","error","productReducer","state","action","type","payload","ProductScreen","props","params","slug","productState","dispatchProduct","fetchData","result","get","data","err","message"],"sources":["/home/chamie/projects/amazon-clone-mern/client/src/screens/ProductScreen.js"],"sourcesContent":["import axios from 'axios';\nimport { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst INITIAL_STATE = {\n\tproduct: {},\n\tloading: true,\n\terror: '',\n};\n\nconst productReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'FETCH_REQUEST':\n\t\t\treturn { ...state, loading: true };\n\t\tcase 'FETCH_SUCCESS':\n\t\t\treturn { ...state, product: action.payload, loading: false };\n\t\tcase 'FETCH_FAILURE':\n\t\t\treturn { ...state, loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nconst ProductScreen = (props) => {\n\tconst params = useParams();\n\tconst { slug } = params;\n\tconst [productState, dispatchProduct] = useReducer(productReducer, INITIAL_STATE);\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\tdispatchProduct({ type: 'FETCH_REQUEST' });\n\t\t\ttry {\n\t\t\t\tconst result = await axios.get(`/api/products/slug/${slug}`);\n\t\t\t\tdispatchProduct({ type: 'FETCH_SUCCESS', payload: result.data });\n\t\t\t} catch (err) {\n\t\t\t\tdispatchProduct({ type: 'FETCH_FAILURE', payload: err.message });\n\t\t\t}\n\t\t};\n\t\tfetchData();\n\t}, [slug]);\n\n\treturn (\n\t\t{}\n\t);\n};\n\nexport default ProductScreen;\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,MAAMC,aAAa,GAAG;EACrBC,OAAO,EAAE,EADY;EAErBC,OAAO,EAAE,IAFY;EAGrBC,KAAK,EAAE;AAHc,CAAtB;;AAMA,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACzC,QAAQA,MAAM,CAACC,IAAf;IACC,KAAK,eAAL;MACC,OAAO,EAAE,GAAGF,KAAL;QAAYH,OAAO,EAAE;MAArB,CAAP;;IACD,KAAK,eAAL;MACC,OAAO,EAAE,GAAGG,KAAL;QAAYJ,OAAO,EAAEK,MAAM,CAACE,OAA5B;QAAqCN,OAAO,EAAE;MAA9C,CAAP;;IACD,KAAK,eAAL;MACC,OAAO,EAAE,GAAGG,KAAL;QAAYH,OAAO,EAAE,KAArB;QAA4BC,KAAK,EAAEG,MAAM,CAACE;MAA1C,CAAP;;IACD;MACC,OAAOH,KAAP;EARF;AAUA,CAXD;;AAaA,MAAMI,aAAa,GAAIC,KAAD,IAAW;EAAA;;EAChC,MAAMC,MAAM,GAAGZ,SAAS,EAAxB;EACA,MAAM;IAAEa;EAAF,IAAWD,MAAjB;EACA,MAAM,CAACE,YAAD,EAAeC,eAAf,IAAkChB,UAAU,CAACM,cAAD,EAAiBJ,aAAjB,CAAlD;EAEAH,SAAS,CAAC,MAAM;IACf,MAAMkB,SAAS,GAAG,YAAY;MAC7BD,eAAe,CAAC;QAAEP,IAAI,EAAE;MAAR,CAAD,CAAf;;MACA,IAAI;QACH,MAAMS,MAAM,GAAG,MAAMpB,KAAK,CAACqB,GAAN,CAAW,sBAAqBL,IAAK,EAArC,CAArB;QACAE,eAAe,CAAC;UAAEP,IAAI,EAAE,eAAR;UAAyBC,OAAO,EAAEQ,MAAM,CAACE;QAAzC,CAAD,CAAf;MACA,CAHD,CAGE,OAAOC,GAAP,EAAY;QACbL,eAAe,CAAC;UAAEP,IAAI,EAAE,eAAR;UAAyBC,OAAO,EAAEW,GAAG,CAACC;QAAtC,CAAD,CAAf;MACA;IACD,CARD;;IASAL,SAAS;EACT,CAXQ,EAWN,CAACH,IAAD,CAXM,CAAT;EAaA,OACC,EADD;AAGA,CArBD;;GAAMH,a;UACUV,S;;;KADVU,a;AAuBN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}